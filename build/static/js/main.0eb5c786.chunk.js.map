{"version":3,"sources":["img/sjd_news_logo.png","Components/Header.jsx","Components/Homepage.jsx","Components/ErrorPage.jsx","Components/LoginPanel.jsx","Components/NavBar.jsx","Utils/api.js","Components/Articles.jsx","Components/Topics.jsx","Components/Users.jsx","Components/Voting.jsx","Components/Comments.jsx","Components/SingleArticle.jsx","Utils/formatting.js","Components/NewArticle.jsx","App.js","index.js"],"names":["module","exports","__webpack_require__","p","Header","handleClick","handleNewArticle","_this","props","_this2","this","_this$props","heading","loggedIn","headerClass","display","react_default","a","createElement","className","includes","onClick","Component","Homepage","_ref","toggleSidebar","Fragment","Components_Header","src","logo","alt","ErrorPage","navigate","err","LoginPanel","state","username","handleChange","event","_event$target","target","id","value","setState","Object","defineProperty","handleSubmit","preventDefault","login","handleLogout","logout","_this$state","user","Components_ErrorPage","onSubmit","type","onChange","placeholder","required","NavBar","Components_LoginPanel","es","to","BASE_URL","getTopics","asyncToGenerator","regenerator_default","mark","_callee","_ref2","data","wrap","_context","prev","next","axios","get","concat","sent","abrupt","topics","stop","apply","arguments","getArticles","_ref3","_callee2","topic","page","sort_by","asc_order","url","_ref4","_context2","articles","_x","_x2","_x3","_x4","getArticleById","_ref5","_callee3","article_id","_ref6","_context3","article","_x5","getCommentsByArticleId","_ref7","_callee4","_ref8","_context4","comments","_x6","_x7","getUsers","_ref9","_callee5","_ref10","_context5","users","getUserByUsername","_ref11","_callee6","_ref12","_context6","_x8","addNewTopic","_ref13","_callee7","slug","description","_ref14","_context7","post","_x9","_x10","addNewArticle","_ref15","_callee8","title","body","_ref16","_context8","_x11","_x12","_x13","_x14","addCommentByArticleId","_ref17","_callee9","_ref18","_context9","comment","_x15","_x16","_x17","deleteArticle","_ref19","_callee10","_ref20","_context10","delete","_x18","deleteCommentByArticleId","_ref21","_callee11","comment_id","_ref22","_context11","_x19","_x20","patchVotes","_ref23","_callee12","direction","_ref24","_context12","patch","inc_votes","_x21","_x22","_x23","Articles","loading","isLastPage","fetchArticles","api","then","catch","console","log","length","updatePageNumber","resetPageNumber","handleSortChange","handleOrderChange","URL","charAt","toUpperCase","slice","_this$state2","default","key","map","Date","created_at","toJSON","toUTCString","author","comment_count","votes","disabled","prevProps","prevState","topicUpdated","pageUpdated","sortByUpdated","orderUpdated","Topics","fetchTopics","Users","fetchUsers","name","avatar_url","Voting","voteChange","updateVote","Comments","deleteComment","Components_Voting","SingleArticle","articlesLoading","commentsLoading","commentCount","newComment","fetchArticleById","parseInt","fetchCommentsByArticleId","_this$props2","Components_Comments","updateCommentVotes","articleUpdated","commentsUpdated","formatTitle","string","trim","split","word","replace","join","formatText","regex1","RegExp","exec","lastIndex","NewArticle","slugs","selectedTopic","newTopicName","newTopicDesc","newArticleName","newArticleBody","newTopic","newArticleID","sort","handleTopicSelect","format","submitNewArticle","_this$state3","autoFocus","defaultValue","App","sidebarClassName","buttonClass","sessionStorage","setItem","JSON","stringify","removeItem","checkLoggedInStorage","storedState","getItem","parse","Components_NavBar","Components_Homepage","path","Components_Topics","Components_Articles","Components_NewArticle","Components_SingleArticle","Components_Users","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.0eb5c786.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sjd_news_logo.a0c92c3b.png\";","import React, { Component } from 'react';\nimport '../CSS/Header.css'\n\nclass Header extends Component {\n\n  render() {\n    const { heading, loggedIn, display } = this.props;\n    const headerClass = display ? 'mainHeader active' : 'mainHeader';\n\n    return (\n      <header className={headerClass} >\n        <h1>{heading}</h1>\n        {(heading.includes('Articles') && (loggedIn)) && <button className=\"newArticleButton\" onClick={() => this.handleClick()}>New Article</button>}\n      </header>\n    );\n  }\n\n  // function when new button is called\n  handleClick = () => {\n    const { handleNewArticle } = this.props;\n    handleNewArticle();\n  }\n}\n\nexport default Header;","import React from 'react';\nimport Header from './Header';\nimport '../CSS/Homepage.css'\nimport logo from '../img/sjd_news_logo.png'\n\nconst Homepage = ({ toggleSidebar }) => {\n\n  // get articles from the api\n  // order by votes to get the most popular\n  // use the description for the top one and find an image to match\n  // display that image and article details on the homepage\n  return (\n    <React.Fragment>\n      <Header toggleSidebar={toggleSidebar} display={false} heading=\"\" />\n      <main className=\"homepage\">\n        <h2>Welcome to</h2>\n        <img src={logo} alt=\"sjd news logo\" ></img>\n      </main>\n    </React.Fragment>\n  );\n};\n\nexport default Homepage;\n","import React, { Component } from 'react';\nimport { navigate } from '@reach/router';\n\nclass ErrorPage extends Component {\n\n  render() {\n    const { err } = this.props;\n\n    return (\n      <main>\n        <h2>ERROR PAGE</h2>\n        <h3>Your error is: {err}</h3>\n        <button onClick={() => this.handleClick()}> Return to Home</button>\n      </main>\n    );\n  }\n\n  handleClick = () => {\n    navigate(`/`);\n  }\n\n}\n\nexport default ErrorPage;","import React, { Component } from 'react';\nimport ErrorPage from './ErrorPage';\n\nclass LoginPanel extends Component {\n  state = {\n    username: '',\n    err: \"\"\n  }\n\n  render() {\n    const { username, err } = this.state;\n\n    // user & loggedIn is passed down from the props\n    const { user, loggedIn } = this.props;\n\n    // check if loggedIn is true\n    if (err) return (<ErrorPage err={err} />)\n    return loggedIn ?\n      (\n        // if logged in, return username and a little user icon, along with log out button\n        <form className=\"loginPanel\">\n          <p>Logged In:</p>\n          <div className=\"username\">{user.username} ICON</div> {/*clicking on the icon should take you to the individual users page*/}\n          <div className=\"button-group\">\n            <button className=\"loginButtons\" >Account</button>\n            <button className=\"loginButtons\" onClick={() => this.handleLogout()}>Logout</button>\n          </div>\n        </form>\n      )\n      : (\n        // else, if not logged in return form to log in \n        <form className=\"loginPanel\" onSubmit={this.handleSubmit}>\n          <p>Login:</p>\n          <input className=\"textbox username\" type=\"text\" id=\"username\" onChange={this.handleChange} value={username} placeholder=\"Enter Username here\" required />\n          <input className=\"textbox password\" type=\"text\" id=\"password\" placeholder=\"Enter Password here\" />\n          <div className=\"button-group\">\n            <button className=\"loginButtons\" type=\"submit\">Login</button>\n            <button className=\"loginButtons\" type=\"submit\">Sign Up!</button>\n          </div>\n        </form>\n      )\n  }\n\n  // when the field is changed it will update the state with the username\n  handleChange = (event) => {\n    const { id, value } = event.target;\n    this.setState({\n      [id]: value\n    })\n  }\n\n  // function called when enter has been pressed in the text box, or the submit button has been clicked\n  handleSubmit = (event) => {\n    event.preventDefault();\n    // get username from the state\n    const { username } = this.state\n    // log in function passed through the props\n    const { login } = this.props\n    login(username);\n    this.setState({\n      username: ''\n    });\n  }\n\n  handleLogout = () => {\n    // log out function passed through the props\n    const { logout } = this.props\n    logout()\n    // reset the username to empty string and logged in as false\n    this.setState({\n      username: ''\n    });\n  }\n}\n\nexport default LoginPanel;","import React from 'react';\nimport '../CSS/NavBar.css';\nimport { Link } from '@reach/router'\nimport LoginPanel from './LoginPanel';\n\nconst NavBar = ({ toggleSidebar, user, loggedIn, login, logout }) => {\n  return (\n    <React.Fragment>\n      <nav className=\"navBar\">\n        <LoginPanel user={user} loggedIn={loggedIn} login={login} logout={logout} />\n        <section className=\"navLinks\">\n          <Link className=\"navListItem\" to=\"/\" onClick={() => toggleSidebar()}>HOME</Link>\n          <Link className=\"navListItem\" to=\"/topics\" onClick={() => toggleSidebar()}> TOPICS</Link >\n          <Link className=\"navListItem\" to=\"/articles\" onClick={() => toggleSidebar()}> ARTICLES</Link >\n          <Link className=\"navListItem\" to=\"/users\" onClick={() => toggleSidebar()}> USERS</Link >\n        </section>\n        <div className=\"footer\">\n          <h6>Developed by:</h6>\n          <h4>Samuel Jai</h4>\n          <h6>On A Full Stack Developer Journey</h6>\n          <p>GitHub | LinkedIn | Twitter</p>\n        </div>\n      </nav>\n    </React.Fragment>\n  );\n};\n\nexport default NavBar;","import axios from 'axios'\n\nconst BASE_URL = 'https://sjd-news.herokuapp.com/api'\n\nexport const getTopics = async () => {\n  const { data } = await axios.get(`${BASE_URL}/topics`);\n  return data.topics;\n}\n\nexport const getArticles = async (topic, page, sort_by, asc_order) => {\n  const url = topic ? `/topics/${topic}/articles` : '/articles'\n  const { data } = await axios.get(`${BASE_URL}${url}?p=${page}&&sort_by=${sort_by}&&sort_ascending=${asc_order}`);\n  return data.articles;\n}\n\nexport const getArticleById = async (article_id) => {\n  const { data } = await axios.get(`${BASE_URL}/articles/${article_id}`);\n  return data.article;\n}\n\nexport const getCommentsByArticleId = async (article_id, page) => {\n  const { data } = await axios.get(`${BASE_URL}/articles/${article_id}/comments?p=${page}`);\n  return data.comments;\n}\n\nexport const getUsers = async () => {\n  const { data } = await axios.get(`${BASE_URL}/users`);\n  return data.users;\n}\n\nexport const getUserByUsername = async (username) => {\n  const { data } = await axios.get(`${BASE_URL}/users/${username}`);\n  return data.user;\n}\n\nexport const addNewTopic = async (slug, description) => {\n  const { data } = await axios.post(`${BASE_URL}/topics`, {\n    slug,\n    description\n  });\n  return data.topic;\n}\n\nexport const addNewArticle = async (topic, title, body, username) => {\n  const { data } = await axios.post(`${BASE_URL}/topics/${topic}/articles`, {\n    title,\n    body,\n    username\n  })\n  return data.article\n};\n\nexport const addCommentByArticleId = async (article_id, username, body) => {\n  const { data } = await axios.post(`${BASE_URL}/articles/${article_id}/comments`, {\n    username,\n    body\n  })\n  return data.comment\n};\n\nexport const deleteArticle = async (article_id) => {\n  const { data } = await axios.delete(`${BASE_URL}/articles/${article_id}`)\n  return data\n};\n\nexport const deleteCommentByArticleId = async (article_id, comment_id) => {\n  const { data } = await axios.delete(`${BASE_URL}/articles/${article_id}/comments/${comment_id}`)\n  return data\n};\n\nexport const patchVotes = async (article_id, comment_id, direction) => {\n  const url = comment_id ? `/articles/${article_id}/comments/${comment_id}` : `/articles/${article_id}`\n  const { data } = await axios.patch(`${BASE_URL}${url}`, {\n    inc_votes: direction\n  })\n  return data\n}\n","import React, { Component } from 'react';\nimport Header from './Header';\nimport '../CSS/Articles.css'\nimport { navigate } from '@reach/router';\nimport * as api from '../Utils/api';\nimport 'react-dropdown/style.css'\nimport ErrorPage from './ErrorPage';\n\nclass Articles extends Component {\n\n  state = {\n    loading: true,\n    articles: [],\n    page: 1,\n    isLastPage: false,\n    sort_by: 'created_at',\n    asc_order: false,\n    err: \"\"\n  }\n\n  render() {\n    const { toggleSidebar, topic, loggedIn } = this.props;\n    const { err, articles, loading, page, isLastPage, sort_by, asc_order } = this.state\n    const heading = topic ? `${topic.charAt(0).toUpperCase() + topic.slice(1)} Articles` : 'Articles'\n\n    if (err) return (<ErrorPage err={err} />)\n    else if (!loading) {\n      return (\n        <React.Fragment>\n          <Header toggleSidebar={toggleSidebar} heading={heading} loggedIn={loggedIn} handleNewArticle={this.handleNewArticle} display={true} />\n          <main>\n            <div className=\"subNavTop\">\n              <select value={sort_by} onChange={this.handleSortChange} >\n                <option default value=\"\">Sort By:</option>\n                <option key=\"created_at\" value=\"created_at\">Date Created</option>\n                <option key=\"comment_count\" value=\"comment_count\">Comments</option>\n                <option key=\"votes\" value=\"votes\">Votes</option>\n              </select >\n              <select value={asc_order} onChange={this.handleOrderChange} >\n                <option default value=\"\">Order:</option>\n                <option key=\"desc\" value=\"false\">Descening</option>\n                <option key=\"asc\" value=\"true\">Ascending</option>\n              </select >\n            </div>\n            {articles.map(article => {\n              return (\n                <div className=\"card articleCard\" key={article.article_id} onClick={() => this.handleClick(article.article_id)}>\n                  <p>{new Date(new Date(article.created_at).toJSON()).toUTCString().slice(5, 16)}</p>\n                  <h3>{article.title}</h3>\n                  <p>\n                    by {article.author}<br></br>\n                    Comments: {article.comment_count}<br></br>\n                    Votes: {article.votes}\n                  </p>\n                  <h4>{article.topic}</h4>\n                </div>\n              )\n            })}\n            <div className=\"subNavBottom\">\n              <button onClick={() => this.updatePageNumber(-1)} disabled={page === 1}>{\"<\"}</button>\n              <p>Page: {page}</p>\n              <button onClick={() => this.updatePageNumber(1)} disabled={isLastPage}>{\">\"}</button>\n            </div>\n          </main>\n        </React.Fragment>\n      )\n    }\n    else return (<p className=\"loading\">is loading...</p>);\n  }\n\n  componentDidMount() {\n    this.fetchArticles();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const topicUpdated = prevProps.topic !== this.props.topic;\n    const pageUpdated = prevState.page !== this.state.page;\n    const sortByUpdated = prevState.sort_by !== this.state.sort_by;\n    const orderUpdated = prevState.asc_order !== this.state.asc_order;\n    if (topicUpdated || sortByUpdated) this.resetPageNumber();\n    if (orderUpdated || sortByUpdated || pageUpdated || (topicUpdated && this.state.page === 1)) {\n      this.fetchArticles();\n    }\n  }\n\n  fetchArticles = () => {\n    const { topic } = this.props;\n    const { page, sort_by, asc_order } = this.state;\n    api.getArticles(topic, page, sort_by, asc_order)\n      .then(articles => {\n        this.setState({ articles })\n      })\n      .catch(err => console.log(err))\n    api.getArticles(topic, page + 1, sort_by, asc_order)\n      .then(articles => {\n        if (!articles.length) this.setState({ isLastPage: true, loading: false })\n        else this.setState({ isLastPage: false, loading: false })\n      })\n      .catch(err => this.setState({ isLastPage: true, loading: false }))\n  }\n\n  handleClick = article_id => {\n    navigate(`/articles/${article_id}`);\n  }\n\n  updatePageNumber = direction => {\n    this.setState(({ page }) => ({\n      page: page + direction\n    }))\n  }\n\n  resetPageNumber = () => {\n    this.setState({ page: 1 })\n  }\n\n  handleSortChange = event => {\n    const { value } = event.target;\n    this.setState({\n      sort_by: value,\n    });\n  };\n\n  handleOrderChange = event => {\n    const { value } = event.target;\n    this.setState({\n      asc_order: value,\n    });\n  };\n\n  handleNewArticle = () => {\n    const { topic } = this.props;\n    const URL = topic ? `/new_article/${topic.charAt(0).toUpperCase() + topic.slice(1)}` : `/new_article/`\n    navigate(URL)\n  }\n}\n\nexport default Articles;","import React, { Component } from 'react';\nimport Header from './Header';\nimport '../CSS/Topics.css'\nimport { navigate } from '@reach/router';\nimport * as api from '../Utils/api'\nimport ErrorPage from './ErrorPage';\n\n\nclass Topics extends Component {\n\n  state = {\n    loading: true,\n    topics: [],\n    err: \"true\",\n  }\n\n  render() {\n    const { toggleSidebar } = this.props\n    const { topics, loading, err } = this.state\n\n    if (err) return (<ErrorPage err={err} />)\n    else if (!loading) {\n      return (\n        <React.Fragment>\n          <Header toggleSidebar={toggleSidebar} heading=\"Topics\" display={true} />\n          <main>\n            {topics.map(topic => (\n              <div className=\"card topicCard\" key={topic.slug} onClick={() => this.handleClick(topic.slug)}>\n                <h3>{topic.slug}</h3>\n                <p>Description: {topic.description}</p>\n              </div>\n            ))}\n          </main>\n        </React.Fragment>\n      )\n    }\n    else return (<p className=\"loading\">is loading...</p>);\n  }\n\n  componentDidMount() {\n    this.fetchTopics();\n  }\n\n  fetchTopics = () => {\n    api.getTopics()\n      .then(topics => this.setState({ topics, loading: false }))\n      .catch(err => console.log(err))\n  }\n\n  handleClick = topic => {\n    navigate(`/topics/${topic}/articles`);\n  }\n}\n\nexport default Topics;","import React, { Component } from 'react';\nimport Header from './Header';\nimport '../CSS/Users.css'\nimport { navigate } from '@reach/router';\nimport * as api from '../Utils/api';\nimport ErrorPage from './ErrorPage';\n\nclass Users extends Component {\n  state = {\n    loading: true,\n    users: [],\n    err: ''\n  }\n  render() {\n    const { toggleSidebar } = this.props;\n    const { err, users, loading } = this.state\n\n    if (err) return (<ErrorPage err={err} />)\n    else if (!loading) {\n      return (\n        <React.Fragment>\n          <Header toggleSidebar={toggleSidebar} heading=\"Users\" display={true} />\n          <main>\n            {users.map(user => (\n              <div className=\"card\" key={user.username} onClick={() => this.handleClick(user.username)}>\n                <h3>{user.username}</h3>\n                <p>name: {user.name}</p>\n                <img src={user.avatar_url} alt={`${user.username}'s avatar`} />\n              </div>\n            ))}\n          </main>\n        </React.Fragment>\n      )\n    }\n    else return (<p className=\"loading\">is loading...</p>);\n  }\n\n  componentDidMount() {\n    this.fetchUsers();\n  }\n\n  fetchUsers = () => {\n    api.getUsers()\n      .then(users => this.setState({ users, loading: false }))\n      .catch(err => console.log(err))\n  }\n\n  handleClick = username => {\n    navigate(`/user/${username}`);\n  }\n}\n\nexport default Users;","import React, { Component } from 'react';\nimport * as api from '../Utils/api';\n\nclass Voting extends Component {\n  state = {\n    voteChange: 0,\n  }\n\n  render() {\n    const { voteChange } = this.state\n    const { votes } = this.props\n\n    return (\n      <section className=\"votingBox\">\n        <button onClick={() => this.updateVote(1)} disabled={voteChange > 0}>Vote Up</button>\n        <p> {votes + voteChange}</p>\n        <button onClick={() => this.updateVote(-1)} disabled={voteChange < 0}>Vote Down</button>\n      </section>\n    );\n  }\n\n  updateVote = direction => {\n    const { article_id, comment_id } = this.props\n    api.patchVotes(article_id, comment_id, direction)\n    this.setState(({ voteChange }) => ({\n      voteChange: voteChange + direction\n    }))\n  }\n}\n\nexport default Voting;","import React from 'react';\nimport Voting from './Voting';\n\nconst Comments = ({ article_id, comments, deleteComment, username }) => {\n  return (\n    <React.Fragment>\n      {comments.map(comment => (\n        <div className=\"comment\" key={comment.comment_id}>\n          <h3>{comment.author}</h3>\n          <p>id: {comment.comment_id}</p>\n          <p>{new Date(new Date(comment.created_at).toJSON()).toUTCString().slice(5, 22)}</p>\n          <p>{comment.body}</p>\n          <Voting votes={comment.votes} article_id={article_id} comment_id={comment.comment_id} />\n          {comment.author === username &&\n            (<button onClick={() => deleteComment(comment.comment_id)} >Delete</button>)\n          }\n        </div>\n      ))\n      }\n    </React.Fragment >\n  );\n};\n\nexport default Comments;","import React, { Component } from 'react';\nimport Header from './Header';\nimport Comments from './Comments';\nimport { navigate } from '@reach/router';\nimport '../CSS/Articles.css'\nimport * as api from '../Utils/api'\nimport Voting from './Voting';\nimport ErrorPage from './ErrorPage';\n\nclass SingleArticle extends Component {\n  state = {\n    articlesLoading: true,\n    commentsLoading: true,\n    article: {},\n    comments: [],\n    commentCount: 0,\n    page: 1,\n    isLastPage: false,\n    newComment: \"\",\n    err: ''\n  }\n\n  render() {\n    const { toggleSidebar, loggedIn, user: { username } } = this.props;\n    const { err, article, articlesLoading, comments, commentCount, commentsLoading, page, isLastPage, newComment } = this.state\n\n    if (err) return (<ErrorPage err={err} />)\n    else if (!articlesLoading && !commentsLoading) {\n      return (\n        <React.Fragment>\n          <Header toggleSidebar={toggleSidebar} heading={article.title} display={true} />\n          <main>\n            <div className=\"articleCard\">\n              <div className=\"articleInfo\">\n                <p>{article.topic}</p>\n                <p>{new Date(new Date(article.created_at).toJSON()).toUTCString().slice(5, 16)}</p>\n                <p>{article.author}</p>\n                <p>{commentCount} Comments</p>\n                <Voting votes={article.votes} article_id={article.article_id} />\n                {article.author === username &&\n                  (<button onClick={() => this.deleteArticle(article.article_id)} >Delete</button>)\n                }\n              </div>\n              <div className=\"articlBody\">\n                <p>{article.body}</p>\n              </div>\n              <div className=\"commentsBox\">\n                <button onClick={() => this.updatePageNumber(-1)} disabled={page === 1}>Previous</button>\n                <button onClick={() => this.updatePageNumber(1)} disabled={isLastPage}>Next</button>\n                <h3>{commentCount} Comments</h3>\n                {(loggedIn) &&\n                  <form onSubmit={this.handleSubmit}> New Comment:\n                    <textarea required id=\"newComment\" value={newComment} onChange={this.handleChange} placeholder=\"Enter a new comment...\" />\n                    <button type=\"submit\">Submit Comment</button>\n                  </form>\n                }\n                <Comments article_id={article.article_id} comments={comments} username={username} deleteComment={this.deleteComment} updateCommentVotes={this.updateCommentVotes} />\n              </div>\n            </div>\n          </main>\n        </React.Fragment>\n      )\n    }\n    else return (<p className=\"loading\">is loading...</p>);\n  }\n\n  componentDidMount() {\n    this.fetchArticleById();\n    this.fetchCommentsByArticleId();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const articleUpdated = prevProps.article_id !== this.props.article_id;\n    const pageUpdated = prevState.page !== this.state.page;\n    const commentsUpdated = prevState.commentCount !== this.state.commentCount;\n\n    if (commentsUpdated || articleUpdated) this.resetPageNumber();\n    if (commentsUpdated || pageUpdated || (articleUpdated && this.state.page === 1)) {\n      this.fetchCommentsByArticleId();\n    }\n  }\n\n  fetchArticleById = () => {\n    const { article_id } = this.props;\n    api.getArticleById(article_id)\n      .then(article => {\n        this.setState({ article, commentCount: parseInt(article.comment_count), articlesLoading: false })\n      })\n      .catch(err => console.log(err))\n  }\n\n  fetchCommentsByArticleId = () => {\n    const { article_id } = this.props;\n    const { page } = this.state;\n    api.getCommentsByArticleId(article_id, page)\n      .then(comments => {\n        this.setState({ comments, commentsLoading: false })\n      })\n      .catch(err => this.setState({ comments: [] }))\n    api.getCommentsByArticleId(article_id, page + 1)\n      .then(comments => {\n        if (!comments.length) this.setState({ isLastPage: true, commentsLoading: false })\n        else this.setState({ isLastPage: false, commentsLoading: false })\n      })\n      .catch(err => this.setState({ isLastPage: true, commentsLoading: false }))\n  }\n\n  updatePageNumber = direction => {\n    this.setState(({ page }) => ({\n      page: page + direction\n    }))\n  }\n\n  resetPageNumber = () => {\n    this.setState({ page: 1 })\n  }\n\n  handleChange = (event) => {\n    const { id, value } = event.target;\n    this.setState({\n      [id]: value\n    })\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    // get username from the state, articleId, username, body\n    const { article_id, user: { username } } = this.props\n    const { newComment } = this.state\n    api.addCommentByArticleId(article_id, username, newComment)\n      .then(comment => {\n        this.setState(({ comments, commentCount }) => {\n          return ({\n            comments: comments.concat(comment),\n            commentCount: commentCount + 1,\n            newComment: \"\"\n          })\n        })\n      })\n      .catch(err => console.log(err))\n  }\n\n  deleteComment = (comment_id) => {\n    const { article_id } = this.props;\n    api.deleteCommentByArticleId(article_id, comment_id)\n      .then(() => {\n        this.setState(({ commentCount }) => ({\n          commentCount: commentCount - 1,\n        }))\n      })\n      .catch(err => console.log(err));\n  };\n\n  deleteArticle = (article_id) => {\n    api.deleteArticle(article_id)\n      .then(() => {\n        // navigate to the articles page once deleted\n        navigate(`/articles`);\n      })\n      .catch(err => console.log(err));\n  };\n}\n\nexport default SingleArticle;","// takes a string and returns a string with the first letter of every word capitalised\nexport const formatTitle = (string) => {\n  return string.trim().split(\" \").map(word => (word.replace(word[0], word[0].toUpperCase()))).join(\" \")\n}\n\n// takes a string and returns the string with the first letter of each sentence capitalised\nexport const formatText = (string) => {\n  const regex1 = RegExp(\"[!\\.?]+ \", 'g');\n  let array1 = [];\n\n  string = string[0].toUpperCase() + string.slice(1)\n\n  while ((array1 = regex1.exec(string)) !== null) {\n    string = string.slice(0, regex1.lastIndex) + string[regex1.lastIndex].toUpperCase() + string.slice(regex1.lastIndex + 1)\n  }\n  return string\n}\n\n","import React, { Component } from 'react';\nimport Header from './Header';\nimport '../CSS/NewArticle.css';\nimport * as api from '../Utils/api';\nimport * as format from '../Utils/formatting'\nimport { navigate } from '@reach/router';\nimport ErrorPage from './ErrorPage';\n\nclass NewArticle extends Component {\n\n  state = {\n    loading: true,\n    slugs: [],\n    selectedTopic: \"New\",\n    newTopicName: \"\",\n    newTopicDesc: \"\",\n    newArticleName: \"\",\n    newArticleBody: \"\",\n    newTopic: \"\",\n    newArticleID: 0,\n    err: ''\n  }\n\n  render() {\n    const { err, slugs, loading, selectedTopic } = this.state\n    const { topic, toggleSidebar, loggedIn } = this.props;\n\n    const heading = (!topic) ?\n      'Create a New Article'\n      : `Create a New ${topic} Article`;\n\n    if (err) return (<ErrorPage err={err} />)\n    else if (!loading) {\n      return (\n        <React.Fragment>\n          <Header toggleSidebar={toggleSidebar} heading={heading} loggedIn={loggedIn} display={true} />\n          <main className=\"newArticleMain\">\n            <div>\n              <p>Select a Topic:</p>\n              <select autoFocus required defaultValue={topic} onChange={this.handleTopicSelect} >\n                <option value=\"New\">New Topic</option>\n                {slugs.map(slug => {\n                  return (<option key={slug} value={slug}>{slug}</option>)\n                })}\n              </select >\n            </div>\n            <form onSubmit={this.handleSubmit} className=\"newArticleForm\">\n              {(selectedTopic === \"New\") &&\n                <section className=\"newTopicSection\"> New Topic Details:\n                  <input type=\"text\" required id=\"newTopicName\" value={this.state.value} onChange={this.handleChange} placeholder=\"Enter a New Topic Title\" />\n                  <textarea required id=\"newTopicDesc\" value={this.state.value} onChange={this.handleChange} placeholder=\"Enter a description for your new topic...\" />\n                </section>\n              }\n              <section className=\"newArticleSection\"> New Article Details:\n                <input type=\"text\" required id=\"newArticleName\" value={this.state.value} onChange={this.handleChange} placeholder=\"Enter a New Article Title\" />\n                <textarea required id=\"newArticleBody\" value={this.state.value} onChange={this.handleChange} placeholder=\"Enter your new article...\" />\n              </section>\n              <button type=\"submit\">Publish new article</button>\n            </form>\n          </main>\n        </React.Fragment>\n      )\n    }\n    else return (<p className=\"loading\">is loading...</p>);\n  }\n\n  componentDidMount() {\n    // gets topics for dropdown menu\n    this.fetchTopics();\n    // gets the topic from the url\n    const { topic } = this.props\n    // if topic exists in url then it changes selectedTopic in the state with it\n    if (topic) {\n      this.setState({\n        selectedTopic: topic\n      })\n    }\n  }\n\n  // fetches all topics and creates a new slugs array in the state to use for the drop down\n  fetchTopics = () => {\n    api.getTopics()\n      .then(topics => {\n        const slugs = topics.map((topic) => topic.slug.charAt(0).toUpperCase() + topic.slug.slice(1)).sort()\n        this.setState({ slugs, loading: false })\n      })\n      .catch(err => console.log(err))\n  }\n\n  handleTopicSelect = event => {\n    const { value } = event.target;\n    this.setState({\n      selectedTopic: value,\n    });\n  };\n\n  handleChange = (event) => {\n    const { id, value } = event.target;\n    this.setState({\n      [id]: value\n    })\n  }\n\n  // function called when enter has been pressed in the text box, or the submit button has been clicked\n  handleSubmit = (event) => {\n    event.preventDefault();\n    // get information from the state\n    const { newTopicDesc, newTopicName, selectedTopic } = this.state;\n\n    // if NEW topic has been selected, call addNewTopic first, then addNewArticle\n    // if existing topic, then just addNewArticle\n    if (selectedTopic === \"New\") {\n      // call the post topic function in the api file, pass in the slug and description\n      // returns the added topic, use topic.slug for the next api call\n      api.addNewTopic(format.formatTitle(newTopicName), format.formatText(newTopicDesc))\n        .then(({ slug }) => {\n          this.setState({ newTopic: slug })\n        })\n        .then(() => this.submitNewArticle())\n        .catch(err => console.log(err))\n    } else {\n      this.submitNewArticle()\n    }\n  }\n\n  submitNewArticle = () => {\n    const { newArticleBody, newArticleName, newTopicName, selectedTopic } = this.state;\n    const { user: { username } } = this.props\n    // then call the post articlebytopic function with topic, tile, body and username, returns article\n    // reset the state\n    // if NEW topic has been selected, then need to use the newTopicName, \n    // otherwise if it is an existing topic, then use the selected topic\n\n    const topic = (selectedTopic === \"New\") ? format.formatTitle(newTopicName) : format.formatTitle(selectedTopic)\n    api.addNewArticle(topic, format.formatTitle(newArticleName), format.formatText(newArticleBody), username)\n      .then(article => {\n        this.setState({ newArticleID: article[0].article_id })\n        // navigate to the singlearticle page using article.article id\n        navigate(`/articles/${article[0].article_id}`);\n      })\n      .catch(err => console.log(err))\n  }\n\n}\n\nexport default NewArticle;","import React, { Component } from 'react';\nimport './App.css';\nimport './CSS/Sidebar.css';\nimport { Router } from '@reach/router';\nimport Homepage from './Components/Homepage';\nimport NavBar from './Components/NavBar';\nimport Articles from './Components/Articles';\nimport Topics from './Components/Topics';\nimport Users from './Components/Users';\nimport SingleArticle from './Components/SingleArticle';\nimport * as api from './Utils/api';\nimport NewArticle from './Components/NewArticle';\nimport logo from './img/sjd_news_logo.png'\n\nclass App extends Component {\n\n  state = {\n    sidebarClassName: 'sidebar',\n    buttonClass: 'menu-button',\n    user: {},\n    loggedIn: false,\n    err: false,\n  }\n\n  render() {\n    const { buttonClass, sidebarClassName, user, loggedIn } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className={sidebarClassName}>\n          <div className=\"logo\">\n            <img src={logo} alt=\"sjd news logo\" ></img>\n          </div>\n          <NavBar user={user} login={this.login} logout={this.logout} loggedIn={loggedIn} toggleSidebar={this.toggleSidebar} />\n        </div>\n        <button className={buttonClass} onClick={this.toggleSidebar}>\n          <span className='bar'></span>\n        </button>\n        <Router className=\"mainDisplay\">\n          <Homepage path=\"/\" toggleSidebar={this.toggleSidebar} />\n          <Topics path=\"/topics\" toggleSidebar={this.toggleSidebar} loggedIn={loggedIn} />\n          <Articles path=\"/topics/:topic/articles\" toggleSidebar={this.toggleSidebar} loggedIn={loggedIn} />\n          <Articles path=\"/articles\" toggleSidebar={this.toggleSidebar} loggedIn={loggedIn} />\n          <NewArticle path=\"/new_article/\" toggleSidebar={this.toggleSidebar} loggedIn={loggedIn} user={user} />\n          <NewArticle path=\"/new_article/:topic\" toggleSidebar={this.toggleSidebar} loggedIn={loggedIn} user={user} />\n          <SingleArticle path=\"articles/:article_id\" toggleSidebar={this.toggleSidebar} loggedIn={loggedIn} user={user} />\n          <Users path=\"/users\" toggleSidebar={this.toggleSidebar} loggedIn={loggedIn} />\n        </Router>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    // once page rendered, check session storage if user already logged in\n    this.checkLoggedInStorage()\n  }\n\n  toggleSidebar = () => {\n    let { sidebarClassName, buttonClass } = this.state;\n    buttonClass = buttonClass === 'menu-button' ? 'menu-button active' : 'menu-button'\n    sidebarClassName = sidebarClassName === 'sidebar' ? 'sidebar active' : 'sidebar'\n    this.setState({ sidebarClassName, buttonClass });\n  }\n\n  login = (username) => {\n    // make a call to database and check if username exists\n    api.getUserByUsername(username)\n      .then(user => {\n        // user returned if successful, update state and session storage\n        this.setState({ user, loggedIn: true })\n        sessionStorage.setItem('state', JSON.stringify(this.state))\n      })\n      .catch(err => console.log(err));\n    // if not successful, log error \"user does not exisit\"\n  }\n\n  logout = () => {\n    // clear user from session storage\n    sessionStorage.removeItem('state');\n\n    // reset state user to empty and loggedIn as false\n    this.setState({\n      user: {},\n      loggedIn: false,\n    });\n  }\n\n  // function to check if already logged in\n  checkLoggedInStorage = () => {\n    const storedState = sessionStorage.getItem('state')\n\n    // if user already logged in then storedstate will be true\n    if (storedState) {\n      // if true, setstate to that of session storage\n      this.setState(JSON.parse(storedState));\n    }\n    // if false do nothing\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}