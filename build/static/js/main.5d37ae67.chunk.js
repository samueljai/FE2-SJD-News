(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){e.exports=a.p+"static/media/sjd_news_logo.a0c92c3b.png"},18:function(e,t,a){},26:function(e,t,a){e.exports=a(80)},31:function(e,t,a){},33:function(e,t,a){},35:function(e,t,a){},44:function(e,t,a){},46:function(e,t,a){},48:function(e,t,a){},74:function(e,t,a){},76:function(e,t,a){},78:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),o=a.n(c),i=(a(31),a(2)),l=a(3),s=a(5),u=a(4),m=a(6),p=(a(33),a(35),a(7)),d=(a(44),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){(0,a.props.handleNewArticle)()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.heading,n=t.loggedIn,c=t.display?"mainHeader active":"mainHeader";return r.a.createElement("header",{className:c},r.a.createElement("h1",null,a),a.includes("Articles")&&n&&r.a.createElement("button",{className:"newArticleButton",onClick:function(){return e.handleClick()}},"New Article"))}}]),t}(n.Component)),g=(a(46),a(13)),h=a.n(g),f=function(e){var t=e.toggleSidebar;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{toggleSidebar:t,display:!1,heading:""}),r.a.createElement("main",{className:"homepage"},r.a.createElement("h2",null,"Welcome to"),r.a.createElement("img",{src:h.a,alt:"sjd news logo"})))},b=(a(48),a(11)),v=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){Object(p.c)("/")},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.err;return r.a.createElement("main",null,r.a.createElement("h2",null,"ERROR PAGE"),r.a.createElement("h3",null,"Your error is: ",t),r.a.createElement("button",{onClick:function(){return e.handleClick()}}," Return to Home"))}}]),t}(n.Component),E=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",err:""},a.handleChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(b.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state.username;(0,a.props.login)(t),a.setState({username:""})},a.handleLogout=function(){(0,a.props.logout)(),a.setState({username:""})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.err,c=this.props,o=c.user,i=c.loggedIn;return n?r.a.createElement(v,{err:n}):i?r.a.createElement("form",{className:"loginPanel"},r.a.createElement("p",null,"Logged In:"),r.a.createElement("div",{className:"username"},o.username," ICON")," ",r.a.createElement("div",{className:"button-group"},r.a.createElement("button",{className:"loginButtons"},"Account"),r.a.createElement("button",{className:"loginButtons",onClick:function(){return e.handleLogout()}},"Logout"))):r.a.createElement("form",{className:"loginPanel",onSubmit:this.handleSubmit},r.a.createElement("p",null,"Login:"),r.a.createElement("input",{className:"textbox username",type:"text",id:"username",onChange:this.handleChange,value:a,placeholder:"Enter Username here",required:!0}),r.a.createElement("input",{className:"textbox password",type:"text",id:"password",placeholder:"Enter Password here"}),r.a.createElement("div",{className:"button-group"},r.a.createElement("button",{className:"loginButtons",type:"submit"},"Login"),r.a.createElement("button",{className:"loginButtons",type:"submit"},"Sign Up!")))}}]),t}(n.Component),C=function(e){var t=e.toggleSidebar,a=e.user,n=e.loggedIn,c=e.login,o=e.logout;return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navBar"},r.a.createElement(E,{user:a,loggedIn:n,login:c,logout:o}),r.a.createElement("section",{className:"navLinks"},r.a.createElement(p.a,{className:"navListItem",to:"/",onClick:function(){return t()}},"HOME"),r.a.createElement(p.a,{className:"navListItem",to:"/topics",onClick:function(){return t()}}," TOPICS"),r.a.createElement(p.a,{className:"navListItem",to:"/articles",onClick:function(){return t()}}," ARTICLES"),r.a.createElement(p.a,{className:"navListItem",to:"/users",onClick:function(){return t()}}," USERS")),r.a.createElement("div",{className:"footer"},r.a.createElement("h6",null,"Developed by:"),r.a.createElement("h4",null,"Samuel Jai"),r.a.createElement("h6",null,"On A Full Stack Developer Journey"),r.a.createElement("p",null,"GitHub | LinkedIn | Twitter"))))},w=(a(18),a(1)),S=a.n(w),y=a(8),N=a(9),O=a.n(N),j="https://sjd-news.herokuapp.com/api",k=function(){var e=Object(y.a)(S.a.mark(function e(){var t,a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(j,"/topics"));case 2:return t=e.sent,a=t.data,e.abrupt("return",a.topics);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(y.a)(S.a.mark(function e(t,a,n,r){var c,o,i;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=t?"/topics/".concat(t,"/articles"):"/articles",e.next=3,O.a.get("".concat(j).concat(c,"?p=").concat(a,"&&sort_by=").concat(n,"&&sort_ascending=").concat(r));case 3:return o=e.sent,i=o.data,e.abrupt("return",i.articles);case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n,r){return e.apply(this,arguments)}}(),A=function(){var e=Object(y.a)(S.a.mark(function e(t){var a,n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(j,"/articles/").concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n.article);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(y.a)(S.a.mark(function e(t,a){var n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(j,"/articles/").concat(t,"/comments?p=").concat(a));case 2:return n=e.sent,r=n.data,e.abrupt("return",r.comments);case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),x=function(){var e=Object(y.a)(S.a.mark(function e(){var t,a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(j,"/users"));case 2:return t=e.sent,a=t.data,e.abrupt("return",a.users);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(y.a)(S.a.mark(function e(t){var a,n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(j,"/users/").concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n.user);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(y.a)(S.a.mark(function e(t,a){var n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(j,"/topics"),{slug:t,description:a});case 2:return n=e.sent,r=n.data,e.abrupt("return",r.topic);case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),D=function(){var e=Object(y.a)(S.a.mark(function e(t,a,n,r){var c,o;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(j,"/topics/").concat(t,"/articles"),{title:a,body:n,username:r});case 2:return c=e.sent,o=c.data,e.abrupt("return",o.article);case 5:case"end":return e.stop()}},e,this)}));return function(t,a,n,r){return e.apply(this,arguments)}}(),P=function(){var e=Object(y.a)(S.a.mark(function e(t,a,n){var r,c;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(j,"/articles/").concat(t,"/comments"),{username:a,body:n});case 2:return r=e.sent,c=r.data,e.abrupt("return",c.comment);case 5:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),B=function(){var e=Object(y.a)(S.a.mark(function e(t){var a,n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.delete("".concat(j,"/articles/").concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(y.a)(S.a.mark(function e(t,a){var n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.delete("".concat(j,"/articles/").concat(t,"/comments/").concat(a));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),F=function(){var e=Object(y.a)(S.a.mark(function e(t,a,n){var r,c,o;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a?"/articles/".concat(t,"/comments/").concat(a):"/articles/".concat(t),e.next=3,O.a.patch("".concat(j).concat(r),{inc_votes:n});case 3:return c=e.sent,o=c.data,e.abrupt("return",o);case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),V=(a(72),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,articles:[],page:1,isLastPage:!1,sort_by:"created_at",asc_order:!1,err:""},a.fetchArticles=function(){var e=a.props.topic,t=a.state,n=t.page,r=t.sort_by,c=t.asc_order;_(e,n,r,c).then(function(e){a.setState({articles:e})}).catch(function(e){return console.log(e)}),_(e,n+1,r,c).then(function(e){e.length?a.setState({isLastPage:!1,loading:!1}):a.setState({isLastPage:!0,loading:!1})}).catch(function(e){return a.setState({isLastPage:!0,loading:!1})})},a.handleClick=function(e){Object(p.c)("/articles/".concat(e))},a.updatePageNumber=function(e){a.setState(function(t){return{page:t.page+e}})},a.resetPageNumber=function(){a.setState({page:1})},a.handleSortChange=function(e){var t=e.target.value;a.setState({sort_by:t})},a.handleOrderChange=function(e){var t=e.target.value;a.setState({asc_order:t})},a.handleNewArticle=function(){var e=a.props.topic,t=e?"/new_article/".concat(e.charAt(0).toUpperCase()+e.slice(1)):"/new_article/";Object(p.c)(t)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.toggleSidebar,n=t.topic,c=t.loggedIn,o=this.state,i=o.err,l=o.articles,s=o.loading,u=o.page,m=o.isLastPage,p=o.sort_by,g=o.asc_order,h=n?"".concat(n.charAt(0).toUpperCase()+n.slice(1)," Articles"):"Articles";return i?r.a.createElement(v,{err:i}):s?r.a.createElement("p",{className:"loading"},"is loading..."):r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{toggleSidebar:a,heading:h,loggedIn:c,handleNewArticle:this.handleNewArticle,display:!0}),r.a.createElement("main",null,r.a.createElement("div",{className:"subNavTop"},r.a.createElement("select",{value:p,onChange:this.handleSortChange},r.a.createElement("option",{default:!0,value:""},"Sort By:"),r.a.createElement("option",{key:"created_at",value:"created_at"},"Date Created"),r.a.createElement("option",{key:"comment_count",value:"comment_count"},"Comments"),r.a.createElement("option",{key:"votes",value:"votes"},"Votes")),r.a.createElement("select",{value:g,onChange:this.handleOrderChange},r.a.createElement("option",{default:!0,value:""},"Order:"),r.a.createElement("option",{key:"desc",value:"false"},"Descening"),r.a.createElement("option",{key:"asc",value:"true"},"Ascending"))),l.map(function(t){return r.a.createElement("div",{className:"card articleCard",key:t.article_id,onClick:function(){return e.handleClick(t.article_id)}},r.a.createElement("p",null,new Date(new Date(t.created_at).toJSON()).toUTCString().slice(5,16)),r.a.createElement("h3",null,t.title),r.a.createElement("p",null,"by ",t.author,r.a.createElement("br",null),"Comments: ",t.comment_count,r.a.createElement("br",null),"Votes: ",t.votes),r.a.createElement("h4",null,t.topic))}),r.a.createElement("div",{className:"subNavBottom"},r.a.createElement("button",{onClick:function(){return e.updatePageNumber(-1)},disabled:1===u},"<"),r.a.createElement("p",null,"Page: ",u),r.a.createElement("button",{onClick:function(){return e.updatePageNumber(1)},disabled:m},">"))))}},{key:"componentDidMount",value:function(){this.fetchArticles()}},{key:"componentDidUpdate",value:function(e,t){var a=e.topic!==this.props.topic,n=t.page!==this.state.page,r=t.sort_by!==this.state.sort_by,c=t.asc_order!==this.state.asc_order;(a||r)&&this.resetPageNumber(),(c||r||n||a&&1===this.state.page)&&this.fetchArticles()}}]),t}(n.Component)),J=(a(74),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,topics:[],err:""},a.fetchTopics=function(){k().then(function(e){return a.setState({topics:e,loading:!1})}).catch(function(e){return console.log(e)})},a.handleClick=function(e){Object(p.c)("/topics/".concat(e,"/articles"))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.toggleSidebar,a=this.state,n=a.topics,c=a.loading,o=a.err;return o?r.a.createElement(v,{err:o}):c?r.a.createElement("p",{className:"loading"},"is loading..."):r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{toggleSidebar:t,heading:"Topics",display:!0}),r.a.createElement("main",null,n.map(function(t){return r.a.createElement("div",{className:"card topicCard",key:t.slug,onClick:function(){return e.handleClick(t.slug)}},r.a.createElement("h3",null,t.slug),r.a.createElement("p",null,"Description: ",t.description))})))}},{key:"componentDidMount",value:function(){this.fetchTopics()}}]),t}(n.Component)),M=(a(76),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,users:[],err:""},a.fetchUsers=function(){x().then(function(e){return a.setState({users:e,loading:!1})}).catch(function(e){return console.log(e)})},a.handleClick=function(e){Object(p.c)("/user/".concat(e))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.toggleSidebar,a=this.state,n=a.err,c=a.users,o=a.loading;return n?r.a.createElement(v,{err:n}):o?r.a.createElement("p",{className:"loading"},"is loading..."):r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{toggleSidebar:t,heading:"Users",display:!0}),r.a.createElement("main",null,c.map(function(t){return r.a.createElement("div",{className:"card",key:t.username,onClick:function(){return e.handleClick(t.username)}},r.a.createElement("h3",null,t.username),r.a.createElement("p",null,"name: ",t.name),r.a.createElement("img",{src:t.avatar_url,alt:"".concat(t.username,"'s avatar")}))})))}},{key:"componentDidMount",value:function(){this.fetchUsers()}}]),t}(n.Component)),q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={voteChange:0},a.updateVote=function(e){var t=a.props,n=t.article_id,r=t.comment_id;F(n,r,e),a.setState(function(t){return{voteChange:t.voteChange+e}})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state.voteChange,a=this.props.votes;return r.a.createElement("section",{className:"votingBox"},r.a.createElement("button",{onClick:function(){return e.updateVote(1)},disabled:t>0},"Vote Up"),r.a.createElement("p",null," ",a+t),r.a.createElement("button",{onClick:function(){return e.updateVote(-1)},disabled:t<0},"Vote Down"))}}]),t}(n.Component),R=function(e){var t=e.article_id,a=e.comments,n=e.deleteComment,c=e.username;return r.a.createElement(r.a.Fragment,null,a.map(function(e){return r.a.createElement("div",{className:"comment",key:e.comment_id},r.a.createElement("h3",null,e.author),r.a.createElement("p",null,"id: ",e.comment_id),r.a.createElement("p",null,new Date(new Date(e.created_at).toJSON()).toUTCString().slice(5,22)),r.a.createElement("p",null,e.body),r.a.createElement(q,{votes:e.votes,article_id:t,comment_id:e.comment_id}),e.author===c&&r.a.createElement("button",{onClick:function(){return n(e.comment_id)}},"Delete"))}))},H=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={articlesLoading:!0,commentsLoading:!0,article:{},comments:[],commentCount:0,page:1,isLastPage:!1,newComment:"",err:""},a.fetchArticleById=function(){var e=a.props.article_id;A(e).then(function(e){a.setState({article:e,commentCount:parseInt(e.comment_count),articlesLoading:!1})}).catch(function(e){return console.log(e)})},a.fetchCommentsByArticleId=function(){var e=a.props.article_id,t=a.state.page;I(e,t).then(function(e){a.setState({comments:e,commentsLoading:!1})}).catch(function(e){return a.setState({comments:[]})}),I(e,t+1).then(function(e){e.length?a.setState({isLastPage:!1,commentsLoading:!1}):a.setState({isLastPage:!0,commentsLoading:!1})}).catch(function(e){return a.setState({isLastPage:!0,commentsLoading:!1})})},a.updatePageNumber=function(e){a.setState(function(t){return{page:t.page+e}})},a.resetPageNumber=function(){a.setState({page:1})},a.handleChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(b.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.props,n=t.article_id,r=t.user.username,c=a.state.newComment;P(n,r,c).then(function(e){a.setState(function(t){var a=t.comments,n=t.commentCount;return{comments:a.concat(e),commentCount:n+1,newComment:""}})}).catch(function(e){return console.log(e)})},a.deleteComment=function(e){var t=a.props.article_id;U(t,e).then(function(){a.setState(function(e){return{commentCount:e.commentCount-1}})}).catch(function(e){return console.log(e)})},a.deleteArticle=function(e){B(e).then(function(){Object(p.c)("/articles")}).catch(function(e){return console.log(e)})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.toggleSidebar,n=t.loggedIn,c=t.user.username,o=this.state,i=o.err,l=o.article,s=o.articlesLoading,u=o.comments,m=o.commentCount,p=o.commentsLoading,g=o.page,h=o.isLastPage,f=o.newComment;return i?r.a.createElement(v,{err:i}):s||p?r.a.createElement("p",{className:"loading"},"is loading..."):r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{toggleSidebar:a,heading:l.title,display:!0}),r.a.createElement("main",null,r.a.createElement("div",{className:"articleCard"},r.a.createElement("div",{className:"articleInfo"},r.a.createElement("p",null,l.topic),r.a.createElement("p",null,new Date(new Date(l.created_at).toJSON()).toUTCString().slice(5,16)),r.a.createElement("p",null,l.author),r.a.createElement("p",null,m," Comments"),r.a.createElement(q,{votes:l.votes,article_id:l.article_id}),l.author===c&&r.a.createElement("button",{onClick:function(){return e.deleteArticle(l.article_id)}},"Delete")),r.a.createElement("div",{className:"articlBody"},r.a.createElement("p",null,l.body)),r.a.createElement("div",{className:"commentsBox"},r.a.createElement("button",{onClick:function(){return e.updatePageNumber(-1)},disabled:1===g},"Previous"),r.a.createElement("button",{onClick:function(){return e.updatePageNumber(1)},disabled:h},"Next"),r.a.createElement("h3",null,m," Comments"),n&&r.a.createElement("form",{onSubmit:this.handleSubmit}," New Comment:",r.a.createElement("textarea",{required:!0,id:"newComment",value:f,onChange:this.handleChange,placeholder:"Enter a new comment..."}),r.a.createElement("button",{type:"submit"},"Submit Comment")),r.a.createElement(R,{article_id:l.article_id,comments:u,username:c,deleteComment:this.deleteComment,updateCommentVotes:this.updateCommentVotes})))))}},{key:"componentDidMount",value:function(){this.fetchArticleById(),this.fetchCommentsByArticleId()}},{key:"componentDidUpdate",value:function(e,t){var a=e.article_id!==this.props.article_id,n=t.page!==this.state.page,r=t.commentCount!==this.state.commentCount;(r||a)&&this.resetPageNumber(),(r||n||a&&1===this.state.page)&&this.fetchCommentsByArticleId()}}]),t}(n.Component),G=(a(78),function(e){return e.trim().split(" ").map(function(e){return e.replace(e[0],e[0].toUpperCase())}).join(" ")}),W=function(e){var t=RegExp("[!.?]+ ","g");for(e=e[0].toUpperCase()+e.slice(1);null!==t.exec(e);)e=e.slice(0,t.lastIndex)+e[t.lastIndex].toUpperCase()+e.slice(t.lastIndex+1);return e},Y=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,slugs:[],selectedTopic:"New",newTopicName:"",newTopicDesc:"",newArticleName:"",newArticleBody:"",newTopic:"",newArticleID:0,err:""},a.fetchTopics=function(){k().then(function(e){var t=e.map(function(e){return e.slug.charAt(0).toUpperCase()+e.slug.slice(1)}).sort();a.setState({slugs:t,loading:!1})}).catch(function(e){return console.log(e)})},a.handleTopicSelect=function(e){var t=e.target.value;a.setState({selectedTopic:t})},a.handleChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(b.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.newTopicDesc,r=t.newTopicName;"New"===t.selectedTopic?L(G(r),W(n)).then(function(e){var t=e.slug;a.setState({newTopic:t})}).then(function(){return a.submitNewArticle()}).catch(function(e){return console.log(e)}):a.submitNewArticle()},a.submitNewArticle=function(){var e=a.state,t=e.newArticleBody,n=e.newArticleName,r=e.newTopicName,c=e.selectedTopic,o=a.props.user.username,i=G("New"===c?r:c);D(i,G(n),W(t),o).then(function(e){a.setState({newArticleID:e[0].article_id}),Object(p.c)("/articles/".concat(e[0].article_id))}).catch(function(e){return console.log(e)})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.err,a=e.slugs,n=e.loading,c=e.selectedTopic,o=this.props,i=o.topic,l=o.toggleSidebar,s=o.loggedIn,u=i?"Create a New ".concat(i," Article"):"Create a New Article";return t?r.a.createElement(v,{err:t}):n?r.a.createElement("p",{className:"loading"},"is loading..."):r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{toggleSidebar:l,heading:u,loggedIn:s,display:!0}),r.a.createElement("main",{className:"newArticleMain"},r.a.createElement("div",null,r.a.createElement("p",null,"Select a Topic:"),r.a.createElement("select",{autoFocus:!0,required:!0,defaultValue:i,onChange:this.handleTopicSelect},r.a.createElement("option",{value:"New"},"New Topic"),a.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("form",{onSubmit:this.handleSubmit,className:"newArticleForm"},"New"===c&&r.a.createElement("section",{className:"newTopicSection"}," New Topic Details:",r.a.createElement("input",{type:"text",required:!0,id:"newTopicName",value:this.state.value,onChange:this.handleChange,placeholder:"Enter a New Topic Title"}),r.a.createElement("textarea",{required:!0,id:"newTopicDesc",value:this.state.value,onChange:this.handleChange,placeholder:"Enter a description for your new topic..."})),r.a.createElement("section",{className:"newArticleSection"}," New Article Details:",r.a.createElement("input",{type:"text",required:!0,id:"newArticleName",value:this.state.value,onChange:this.handleChange,placeholder:"Enter a New Article Title"}),r.a.createElement("textarea",{required:!0,id:"newArticleBody",value:this.state.value,onChange:this.handleChange,placeholder:"Enter your new article..."})),r.a.createElement("button",{type:"submit"},"Publish new article"))))}},{key:"componentDidMount",value:function(){this.fetchTopics();var e=this.props.topic;e&&this.setState({selectedTopic:e})}}]),t}(n.Component),z=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={sidebarClassName:"sidebar",buttonClass:"menu-button",user:{},loggedIn:!1,err:!1},a.toggleSidebar=function(){var e=a.state,t=e.sidebarClassName,n=e.buttonClass;n="menu-button"===n?"menu-button active":"menu-button",t="sidebar"===t?"sidebar active":"sidebar",a.setState({sidebarClassName:t,buttonClass:n})},a.login=function(e){T(e).then(function(e){a.setState({user:e,loggedIn:!0}),sessionStorage.setItem("state",JSON.stringify(a.state))}).catch(function(e){return console.log(e)})},a.logout=function(){sessionStorage.removeItem("state"),a.setState({user:{},loggedIn:!1})},a.checkLoggedInStorage=function(){var e=sessionStorage.getItem("state");e&&a.setState(JSON.parse(e))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.buttonClass,a=e.sidebarClassName,n=e.user,c=e.loggedIn;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:a},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:h.a,alt:"sjd news logo"})),r.a.createElement(C,{user:n,login:this.login,logout:this.logout,loggedIn:c,toggleSidebar:this.toggleSidebar})),r.a.createElement("button",{className:t,onClick:this.toggleSidebar},r.a.createElement("span",{className:"bar"})),r.a.createElement(p.b,{className:"mainDisplay"},r.a.createElement(f,{path:"/",toggleSidebar:this.toggleSidebar}),r.a.createElement(J,{path:"/topics",toggleSidebar:this.toggleSidebar,loggedIn:c}),r.a.createElement(V,{path:"/topics/:topic/articles",toggleSidebar:this.toggleSidebar,loggedIn:c}),r.a.createElement(V,{path:"/articles",toggleSidebar:this.toggleSidebar,loggedIn:c}),r.a.createElement(Y,{path:"/new_article/",toggleSidebar:this.toggleSidebar,loggedIn:c,user:n}),r.a.createElement(Y,{path:"/new_article/:topic",toggleSidebar:this.toggleSidebar,loggedIn:c,user:n}),r.a.createElement(H,{path:"articles/:article_id",toggleSidebar:this.toggleSidebar,loggedIn:c,user:n}),r.a.createElement(M,{path:"/users",toggleSidebar:this.toggleSidebar,loggedIn:c})))}},{key:"componentDidMount",value:function(){this.checkLoggedInStorage()}}]),t}(n.Component);o.a.render(r.a.createElement(z,null),document.getElementById("root"))}},[[26,2,1]]]);
//# sourceMappingURL=main.5d37ae67.chunk.js.map